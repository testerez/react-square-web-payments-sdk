{"version":3,"file":"use-event-listener.cjs.js","sources":["../../src/hooks/use-event-listener.ts"],"sourcesContent":["// Dependencies\nimport * as React from 'react';\n\nexport const getRefElement = <T>(\n  element?: React.RefObject<Element> | T\n): Element | T | undefined | null | React.RefObject<Element> => {\n  if (element && 'current' in element) {\n    return element.current;\n  }\n\n  return element;\n};\n\nconst isSsr = !(typeof window !== 'undefined' && window.document?.createElement);\n\ntype UseEventListenerProps = {\n  type: keyof WindowEventMap;\n  listener: EventListener;\n  element?: React.RefObject<Element> | HTMLElement | Document | Window | null;\n  options?: AddEventListenerOptions;\n};\n\nfunction useEventListener({ type, listener, element = isSsr ? undefined : window, options }: UseEventListenerProps) {\n  const savedListener = React.useRef<EventListener>();\n\n  React.useEffect(() => {\n    savedListener.current = listener;\n  }, [listener]);\n\n  const handleEventListener = React.useCallback((event: Event) => {\n    savedListener.current?.(event);\n  }, []);\n\n  React.useEffect(() => {\n    const target = getRefElement(element) as unknown as Element;\n\n    target?.addEventListener(type, handleEventListener, options);\n\n    return () => target?.removeEventListener(type, handleEventListener);\n  }, [type, element, options, handleEventListener]);\n}\n\nexport { useEventListener };\nexport type { UseEventListenerProps };\n"],"names":["getRefElement","element","isSsr","useEventListener","type","listener","options","savedListener","React","handleEventListener","event","target"],"mappings":"2bAGaA,EACXC,GAEIA,GAAW,YAAaA,EACnBA,EAAQ,QAGVA,EAGHC,EAAQ,EAAE,OAAO,OAAW,KAAe,OAAO,UAAU,eASlE,SAASC,EAAiB,CAAE,KAAAC,EAAM,SAAAC,EAAU,QAAAJ,EAAUC,EAAQ,OAAY,OAAQ,QAAAI,GAAkC,CAC5G,MAAAC,EAAgBC,EAAM,SAE5BA,EAAM,UAAU,IAAM,CACpBD,EAAc,QAAUF,CAAA,EACvB,CAACA,CAAQ,CAAC,EAEb,MAAMI,EAAsBD,EAAM,YAAaE,GAAiB,CAC9DH,EAAc,UAAUG,CAAK,CAC/B,EAAG,CAAE,CAAA,EAELF,EAAM,UAAU,IAAM,CACd,MAAAG,EAASX,EAAcC,CAAO,EAE5B,OAAAU,GAAA,iBAAiBP,EAAMK,EAAqBH,CAAO,EAEpD,IAAMK,GAAQ,oBAAoBP,EAAMK,CAAmB,GACjE,CAACL,EAAMH,EAASK,EAASG,CAAmB,CAAC,CAClD"}